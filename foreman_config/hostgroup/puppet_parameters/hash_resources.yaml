--- # resources
# Dateien
file:
  # keytab für Active Directory-Join
  krb_keytab:
    path: /tmp/.kr922392
    owner: root
    group: root
    mode: '0400'
    source: puppet:///modules/profile/nwzjoin/keytab
    notify: Class[realmd::join::keytab]
  # Citrix Receiver als .deb-Paket
  citrix_receiver_deb:
    path: /tmp/icaclient.deb
    source: puppet:///modules/profile/icaclient_13.6.0.10243651_amd64.deb
  # Vorlagen in /etc/skel/ anlegen
  /etc/skel/Vorlagen:
    ensure: directory
  # Vorlage für Sitzungsprotokolle
  /etc/skel/Vorlagen/JJJJ-MM-TT_protokoll.tex:
    ensure: link
    target: ../Fachschaftsplatte/G01/Fachschaft/Sitzungsprotokolle/Aktuelle Vorlage Protokoll/yyyy-mm-dd_protokoll.tex
  /etc/skel/Vorlagen/fsphys-protokoll.cls:
    ensure: link
    target: ../Fachschaftsplatte/G01/Fachschaft/Sitzungsprotokolle/Aktuelle Vorlage Protokoll/fsphys-protokoll.cls
  /etc/skel/Vorlagen/fs-physik-logo.pdf:
    ensure: link
    target: ../Fachschaftsplatte/G01/Fachschaft/Sitzungsprotokolle/Aktuelle Vorlage Protokoll/fs-physik-logo.pdf
  # Konfiguration von Firefox und Thunderbird im Netzlaufwerk ablegen
  /etc/skel/.mozilla:
    ensure: link
    target: ../IVV4_I-Laufwerk/FSPHYS-PC/.mozilla/
  /etc/skel/.thunderbird:
    ensure: link
    target: ../IVV4_I-Laufwerk/FSPHYS-PC/.thunderbird/

# Software-Pakete
package:
  # Citric Receiver via gdebi installieren
  citrix-receiver:
    provider: gdebi
    source: /tmp/icaclient.deb
  # Pakete zur Installation via APT
  # Utility
  # xmllint installieren, bevor pam_mount aktiviert wird
  # pam_mount verwendet xmllint, um die Konfigurationsdatei pam_mount.conf.xml
  # zu validieren
  libxml2-utils:
    ensure: present
    before: Class[pam_mount]
  # cifs-utils installieren, bevor pam_mount aktiviert wird
  # mount.cifs wird benötigt, um Netzlaufwerke der IVV4 einzubinden
  cifs-utils:
    ensure: present
    before: Class[pam_mount]
  # keyutils installieren, bevor pam_mount aktiviert wird
  # keyutils wird benötigt, um beim Einbinden von CIFS-Dateisystemen
  # DFS-Umleitungen (z.B. auf //nwz.wwu.de/dfs/) verarbeiten zu können
  # S. auch https://bugs.launchpad.net/ubuntu/+source/samba/+bug/493565
  keyutils:
    ensure: present
    before: Class[pam_mount]
  # Desktop
  ubuntu-gnome-desktop:
    ensure: present
  # Office
  libreoffice:
    ensure: present
  texlive-full:
    ensure: present
  texstudio:
    ensure: present
  # Internet
  firefox:
    ensure: present
  thunderbird:
    ensure: present
  # Media
  gimp:
    ensure: present
  inkscape:
    ensure: present
  blender:
    ensure: present
  vlc:
    ensure: present
  audacity:
    ensure: present
  # Programmierung
  git:
    ensure: present
  python3:
    ensure: present
  ipython3:
    ensure: present
  default-jdk:
    ensure: present
  colordiff:
    ensure: present
  wdiff:
    ensure: present

